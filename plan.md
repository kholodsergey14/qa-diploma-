Планирование автоматизации тестирования
1. Перечень автоматизируемых сценариев
Тестирование UI и БД
Позитивные тесты
Покупка тура по кнопке "Купить" по данным действительной карты (статус карты "APPROVED"). Проверка корректности записи данных в таблицы payment_entity и order_entity базы данных.
Покупка тура по кнопке "Купить в кредит" по данным действительной карты (статус карты "APPROVED"). Проверка корректности записи данных в таблицы credit_request_entity и order_entity базы данных.
Покупка тура по кнопке "Купить" по данным недействительной карты (статус карты "DECLINED"). Проверка корректности записи данных в таблицы payment_entity и order_entity базы данных.
Покупка тура по кнопке "Купить в кредит" по данным недействительной карты (статус карты "DECLINED"). Проверка корректности записи данных в таблицы credit_request_entity и order_entity базы данных.
Негативные тесты
Покупка по кнопке "Купить"

Отправка формы с незаполненным полем "Номер карты", остальные поля заполнены валидными данными.
Отправка формы с незаполненным полем "Год", остальные поля заполнены валидными данными.
Отправка формы с незаполненным полем "CVC/CVV", остальные поля заполнены валидными данными.
Отправка формы с полем "Номер карты", содержащим 15 символов, остальные поля заполнены валидными данными.
Отправка формы со значением больше 12 и меньше 100 в поле "Месяц", остальные поля заполнены валидными данными.
Отправка формы со значением больше 30 и меньше 100 в поле "Год", остальные поля заполнены валидными данными.
Отправка формы с заполненным на кириллице полем "Владелец", остальные поля заполнены валидными данными.
Отправка формы со значением, содержащим 2 символа в поле "CVC/CVV", остальные поля заполнены валидными данными.
Покупка по кнопке "Купить в кредит"

Отправка формы с незаполненным полем "Месяц", остальные поля заполнены валидными данными.
Отправка формы с незаполненным полем "Владелец", остальные поля заполнены валидными данными.
Отправка формы со всеми незаполненными полями.
Отправка формы с полем "Месяц", содержащим 1 символ, остальные поля заполнены валидными данными.
Отправка формы со значением, содержащим 1 символ в поле "Год", остальные поля заполнены валидными данными.
Отправка формы со значением поля "Владелец" длиной 257 символов, остальные поля заполнены валидными данными.
Отправка формы с содержащим спецсимволы полем "Владелец", остальные поля заполнены валидными данными.
Тестирование API
Негативные тесты
Покупка с полной оплатой

Отправка POST-запроса на покупку с незаполненным полем "Месяц", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку с незаполненным полем "Владелец", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку со всеми незаполненными полями.
Отправка POST-запроса на покупку с полем "Месяц", содержащим 1 символ, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку со значением, содержащим 1 символ в поле "Год", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку со значением поля "Владелец" длиной 257 символов, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку с содержащим спецсимволы полем "Владелец", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку с полем "Номер карты", содержащим 17 символов, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку с полем "Месяц", содержащим 3 символа, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку с полем "Год", содержащим 3 символа, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку с полем "CVC/CVV", содержащим 4 символа, остальные поля заполнены валидными данными.
Покупка в кредит

Отправка POST-запроса на покупку в кредит с незаполненным полем "Номер карты", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с незаполненным полем "Год", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с незаполненным полем "CVC/CVV", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с полем "Номер карты", содержащим 15 символов, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит со значением больше 12 и меньше 100 в поле "Месяц", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит со значением больше 30 и меньше 100 в поле "Год", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с заполненным на кириллице полем "Владелец", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит со значением, содержащим 2 символа в поле "CVC/CVV", остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с полем "Номер карты", содержащим 16 символов, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с полем "Месяц", содержащим 2 символа, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с полем "Год", содержащим 2 символа, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.
Отправка POST-запроса на покупку в кредит с полем "CVC/CVV", содержащим 3 символа, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.
2. Перечень используемых инструментов с обоснованием выбора
Автотесты пишутся на Java (выбор тестировщика)
Для тестирования UI будем использовать selenide - удобный инструмент для автоматических тестов, построенный на базе Selenium WebDriver, так как он позволяет сделать тесты более стабильными, позволяет обрабатывать таймауты в приложениях, автоматическое открытие и закрытие браузера, более простой синтаксис по сравнению с обычным Selenium WebDriver.
Библиотека для тестов junit, имеющая следующие преимущества:
- Представляет из себя тестовую среду.
- Не требует контроля со стороны пользователя во время исполнения.
- Возможность запускать несколько тестов одновременно.
- Сообщения обо всех ошибках в ходе тестирования.
Система автоматической сборки gradle для запуска тестов. Преимущества:
- Гибкая в настройках
- встроена в среду разработки IntelliJ Idea
- отсллеживает, что изменилось в сборке и последующие сборки проходят быстрее (инкрементальная сборка)
Фреймворк allure для генерации отчетов имеет много настроек, выдает красиво оформленные отчеты
Библиотека Rest Assured - для тестирования API. Имеет большой набор функционала, для полноценного использования не обязательно глубоко разбираться в HTTP
DbUtils - библиотека для работы с базами данных. Упрощает работу с JDBC, предоставляет чистый и понятный код для выполнения операций с базой данных без необходимости написания кода для очистки или предотвращения утечки ресурсов
3. Перечень и описание возможных рисков(проблем) при автоматизации
Настройка корректного запуска тестового окружения, так как контейнер с приложением запускается только после того, как запущена служба с БД в одном контейнере и служба симулятора банковских сервисов в другом контейнере.
Сложная структура страниц (сложность написания локаторов) и последующая отладка сценариев.
Отсутствие документации на структуру БД и на работу приложения с БД.
Настройка тестовых сценариев на разных БД (Mysql и Postgres)
4. Интервальная оценка с учётом рисков (в часах)
Настройка тестового окружения - 8
Написание и отладка автотестов - 48
Прогон тестов и описание багов - 16
Отчёт по автоматизации и по итогам тестирования - 16
Итого: 88 часов
5. План сдачи работ
Настройка тестового окружения, написание и отладка автотестов - 21.06.2020
Прогон тестов и описание багов - 26.06.2020
Отчёт по автоматизации и по итогам тестирования - 28.06.2020